{
  "description": "Detects English language errors in user messages and signals Claude to launch the english-tutor agent for interactive learning.",
  "hooks": {
    "UserPromptSubmit": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "You are an English error detector. Analyze the user's message for English language errors.\n\nRules:\n- IGNORE code blocks (```...```), inline code (`...`), file paths, URLs, CLI commands, and technical identifiers (function names, variable names, etc.)\n- ONLY analyze natural language text written by the user\n- Look for: grammar errors, spelling mistakes, incorrect word usage, awkward phrasing, article errors, preposition errors, tense errors, word order issues\n- Be strict but fair — flag real errors, not stylistic preferences\n- Messages that are ONLY code, file paths, or single-word commands should be marked as NO_ERRORS\n- Very short messages (1-3 words) like 'yes', 'ok', 'thanks' should be marked as NO_ERRORS\n\nOutput format:\n- If errors found, output EXACTLY this format (no other text):\n  ENGLISH_ERRORS_DETECTED\n  Errors: [comma-separated brief list of error types, e.g. 'spelling: plese→please, grammar: missing article, word choice: make→do']\n  Original: [the user's original text, excluding code blocks]\n\n- If NO errors found, output EXACTLY:\n  NO_ERRORS",
            "timeout": 15
          }
        ]
      }
    ]
  }
}
